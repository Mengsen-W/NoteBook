# Unix 环境编程

## 1. 文件系统
---
---
### 1. 文件IO
1. 文件的操作依赖于文件描述符，在Unix中文件描述符是在一个文件的唯一标识。
2. 内核维护了一个打开文件表，存在在打开文件描述符和文件表项，显示的保存在 /dev/fd中。
3. 一个进程维护打开文件表，表项包括文件描述符和指向文件表项的指针，文件表项的指针由系统的打开文件表项维护。
4. 在一个Unix中，文件的操作包括以下几种
```c++
open()/openat() // 打开操作
                // 可以和creat()函数合并为一个原子操作
creat() // 创建文件
close() // 关闭文件，小心内存泄漏
read()/write()  // 读写操作
dup()/dup2()    // 复制文件描述符
sync()/fsync()/fdatasync()  // 磁盘存储方式
                            //是否经过缓冲区
                            //是否修改权限
fcntl() // 改变打开文件的属性
ioctl() //IO操作的工具箱
```
---
### 2. 目录